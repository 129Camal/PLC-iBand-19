extends layout

block content
    .container-fluid
      .row
        nav.col-md-2.d-none.d-md-block.bg-light.sidebar
          .sidebar-sticky
            br
            ul.nav.flex-column
              li.nav-item
                a.nav-link(href='http://localhost:4020/3/band') A Banda 
              li.nav-item
                a.nav-link(href='http://localhost:4020/3/calendar') Calendário
              li.nav-item
                a.nav-link(href='http://localhost:4020/3/news') Notícias
              li.nav-item
                a.nav-link(href='http://localhost:4020/3/repertoire') Repertório
            
    main.col-md-9.ml-sm-auto.col-lg-10.px-4(role='main') 
        hr
        include ../messages.pug
        input.form-control.form-control-dark.w-100(type='text', placeholder='Procure por um título', aria-label='Search', id="myInput", onkeyup="search()")   
        .table-responsive
            table.table.table-striped.table-sm(id="myTable")
                thead
                    tr
                        th #
                        th Titulo
                        th Tipo
                        th Compositor
                        th Arranjo

                tbody
                    each obra in obras
                        tr
                            td= obra._id
                            td= obra.titulo
                            td= obra.tipo
                            td= obra.compositor
                            td= obra.arranjo
                                   
        script.
            function search() {
            var input, filter, table, tr, td, i;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            table = document.getElementById("myTable");
            tr = table.getElementsByTagName("tr");
            for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                     tr[i].style.display = "none";
                        }
                }       
            }
            }
        script.
            feather.replace()
            
